# frozen_string_literal: true

class CthulhusController < ApplicationController
	before_action :authenticate_user!
	def new
		@cthulhu = Cthulhu.new
	end

	def index
		@q        = Cthulhu.search(params[:q])
		@cthulhus = @q.result(distinct: true)
	end

	def edit
		@cthulhu = Cthulhu.find(params[:id])
		if @cthulhu.user_id == current_user.id
		elsif
			redirect_to cthulhus_path
		end
	end

	def show
	end

	def create
		cthulhu = Cthulhu.new(cthulhu_params)
		cthulhu.user_id = current_user.id
		cthulhu.save!
		redirect_to cthulhus_path
	end

	def update
		cthulhu = Cthulhu.find(params[:id])
		if cthulhu.user_id == current_user.id
			cthulhu.update(cthulhu_params)
			redirect_to cthulhus_path
		end
	end

	private

	def cthulhu_params
		params.require(:cthulhu).permit(:character_image, :updated_at, :drive_automobile_total, :user_id, :str, :con, :pow, :dex, :app, :siz, :int, :edu, :hitpoint, :magicpoint, :default_san, :idea, :luck, :knowledge, :str_temporary_increase, :con_temporary_increase, :pow_temporary_increase, :dex_temporary_increase, :app_temporary_increase, :siz_temporary_increase, :int_temporary_increase, :edu_temporary_increase, :hitpoint_temporary_increase, :magicpoint_temporary_increase, :default_san_temporary_increase, :idea_temporary_increase, :luck_temporary_increase, :knowledge_temporary_increase, :str_gain, :con_gain, :pow_gain, :dex_gain, :app_gain, :siz_gain, :int_gain, :edu_gain, :hitpoint_gain, :magicpoint_gain, :default_san_gain, :idea_gain, :luck_gain, :knowledge_gain, :str_total, :con_total, :pow_total, :dex_total, :app_total, :siz_total, :int_total, :edu_total, :hitpoint_total, :magicpoint_total, :default_san_total, :idea_total, :luck_total, :knowledge_total, :default_san_now, :default_san_unstable_region, :career_skills, :hobby_skills, :avoidance_default, :avoidance_add_career, :avoidance_add_hobby, :avoidance_add_auxesis, :avoidance_add_etcetera, :avoidance_total, :kick_defalut, :kick_add_career, :kick_add_hobby, :kick_add_auxesis, :kick_add_etcetera, :kick_total, :grapple_defalut, :grapple_add_career, :grapple_add_hobby, :grapple_add_auxesis, :grapple_add_etcetera, :grapple_total, :fist_defalut, :fist_add_career, :fist_add_hobby, :fist_add_auxesis, :fist_add_etcetera, :fist_total, :head_butt_defalut, :head_butt_add_career, :head_butt_add_hobby, :head_butt_add_auxesis, :head_butt_add_etcetera, :head_butt_total, :throw_defalut, :throw_add_career, :throw_add_hobby, :throw_add_auxesis, :throw_add_etcetera, :throw_total, :martial_arts_default, :martial_arts_add_career, :martial_arts_add_hobby, :martial_arts_add_auxesis, :martial_arts_add_etcetera, :martial_arts_total, :handgun_defalut, :handgun_add_career, :handgun_add_hobby, :handgun_add_auxesis, :handgun_add_etcetera, :handgun_total, :shot_gun_defalut, :shot_gun_add_career, :shot_gun_add_hobby, :shot_gun_add_auxesis, :shot_gun_add_etcetera, :shot_gun_total, :machine_gun_default, :machine_gun_add_career, :machine_gun_add_hobby, :machine_gun_add_auxesis, :machine_gun_add_etcetera, :machine_gun_total, :rifle_default, :rifle_add_career, :rifle_add_hobby, :rifle_add_auxesis, :rifle_add_etcetera, :rifle_total, :first_aid_default, :first_aid_add_career, :first_aid_add_hobby, :first_aid_add_auxesis, :first_aid_add_etcetera, :first_aid_total, :locksmith_default, :locksmith_add_career, :locksmith_add_hobby, :locksmith_add_auxesis, :locksmith_add_etcetera, :locksmith_total, :conceal_default, :conceal_add_career, :conceal_add_hobby, :conceal_add_auxesis, :conceal_add_etcetera, :conceal_total, :hide_default, :hide_add_career, :hide_add_hobby, :hide_add_auxesis, :hide_add_etcetera, :hide_total, :listen_default, :listen_add_career, :listen_add_hobby, :listen_add_auxesis, :listen_add_etcetera, :listen_total, :sneak_default, :sneak_add_career, :sneak_add_hobby, :sneak_add_auxesis, :sneak_add_etcetera, :sneak_total, :photography_default, :photography_add_career, :photography_add_hobby, :photography_add_auxesis, :photography_add_etcetera, :photography_total, :psychoanalysis_default, :psychoanalysis_add_career, :psychoanalysis_add_hobby, :psychoanalysis_add_auxesis, :psychoanalysis_add_etcetera, :psychoanalysis_total, :track_default, :track_add_career, :track_add_hobby, :track_add_auxesis, :track_add_etcetera, :track_total, :climb_default, :climb_add_career, :climb_add_hobby, :climb_add_auxesis, :climb_add_etcetera, :climb_total, :library_use_default, :library_use_add_career, :library_use_add_hobby, :library_use_add_auxesis, :library_use_add_etcetera, :library_use_total, :spot_hidden_default, :spot_hidden_add_career, :spot_hidden_add_hobby, :spot_hidden_add_auxesis, :spot_hidden_add_etcetera, :spot_hidden_total, :drive_automobile_default, :drive_automobile_add_career, :drive_automobile_add_hobby, :drive_automobile_add_auxesis, :drive_automobile_add_etcetera, :electrical_repair_default, :electrical_repair_add_career, :electrical_repair_add_hobby, :electrical_repair_add_auxesis, :electrical_repair_add_etcetera, :electrical_repair_total, :operate_heavy_machine_default, :operate_heavy_machine_add_career, :operate_heavy_machine_add_hobby, :operate_heavy_machine_add_auxesis, :operate_heavy_machine_add_etcetera, :operate_heavy_machine_total, :ride_horse_default, :ride_horse_add_career, :ride_horse_add_hobby, :ride_horse_add_auxesis, :ride_horse_add_etcetera, :ride_horse_total, :swim_default, :swim_add_career, :swim_add_hobby, :swim_add_auxesis, :swim_add_etcetera, :swim_total, :production_default, :production_add_career, :production_add_hobby, :production_add_auxesis, :production_add_etcetera, :production_total, :maneuver_default, :maneuver_add_career, :maneuver_add_hobby, :maneuver_add_auxesis, :maneuver_add_etcetera, :maneuver_total, :jumping_default, :jumping_add_career, :jumping_add_hobby, :jumping_add_auxesis, :jumping_add_etcetera, :jumping_total, :navigate_default, :navigate_add_career, :navigate_add_hobby, :navigate_add_auxesis, :navigate_add_etcetera, :navigate_total, :disguise_default, :disguise_add_career, :disguise_add_hobby, :disguise_add_auxesis, :disguise_add_etcetera, :disguise_total, :win_over_default, :win_over_add_career, :win_over_add_hobby, :win_over_add_auxesis, :win_over_add_etcetera, :win_over_total, :reliance_default, :reliance_add_career, :reliance_add_hobby, :reliance_add_auxesis, :reliance_add_etcetera, :reliance_total, :persuasion_defalut, :persuasion_add_career, :persuasion_add_hobby, :persuasion_add_auxesis, :persuasion_add_etcetera, :persuasion_total, :haggling_default, :haggling_add_career, :haggling_add_hobby, :haggling_add_auxesis, :haggling_add_etcetera, :haggling_total, :native_language_default, :native_language_add_career, :native_language_add_hobby, :native_language_add_auxesis, :native_language_add_etcetera, :native_language_total, :medicine_default, :medicine_add_career, :medicine_add_hobby, :medicine_add_auxesis, :medicine_add_etcetera, :medicine_total, :occult_default, :occult_add_career, :occult_add_hobby, :occult_add_auxesis, :occult_add_etcetera, :occult_total, :science_default, :science_add_career, :science_add_hobby, :science_add_auxesis, :science_add_etcetera, :science_total, :cthulhu_mythos_default, :cthulhu_mythos_add_career, :cthulhu_mythos_add_hobby, :cthulhu_mythos_add_auxesis, :cthulhu_mythos_add_etcetera, :cthulhu_mythos_total, :art_default, :art_add_career, :art_add_hobby, :art_add_auxesis, :art_add_etcetera, :art_total, :finance_default, :finance_add_career, :finance_add_hobby, :finance_add_etcetera, :finance_total, :archaeology_default, :archaeology_add_career, :archaeology_add_hobby, :archaeology_add_auxesis, :archaeology_add_etcetera, :archaeology_total, :computer_default, :computer_add_career, :computer_add_hobby, :computer_add_auxesis, :computer_add_etcetera, :computer_total, :psychology_default, :psychology_add_career, :psychology_add_hobby, :psychology_add_auxesis, :psychology_add_etcetera, :psychology_total, :anthropology_default, :anthropology_add_career, :anthropology_add_hobby, :anthropology_add_auxesis, :anthropology_add_etcetera, :anthropology_total, :biology_default, :biology_add_career, :biology_add_hobby, :biology_add_auxesis, :biology_add_etcetera, :biology_total, :geology_default, :geology_add_career, :geology_add_hobby, :geology_add_auxesis, :geology_add_etcetera, :geology_total, :electronics_default, :electronics_add_career, :electronics_add_hobby, :electronics_add_auxesis, :electronics_add_etcetera, :electronics_total, :astronomy_default, :astronomy_add_career, :astronomy_add_hobby, :astronomy_add_auxesis, :astronomy_add_etcetera, :astronomy_total, :natural_history_default, :natural_history_add_career, :natural_history_add_hobby, :natural_history_add_auxesis, :natural_history_add_etcetera, :natural_history_total, :physics_default, :physics_add_career, :physics_add_hobby, :physics_add_auxesis, :physics_add_etcetera, :physics_total, :law_default, :law_add_career, :law_add_hobby, :law_add_auxesis, :law_add_etcetera, :law_total, :pharmacy_default, :pharmacy_add_career, :pharmacy_add_hobby, :pharmacy_add_auxesis, :pharmacy_add_etcetera, :pharmacy_total, :historical_science_default, :historical_science_add_career, :historical_science_add_hobby, :historical_science_add_auxesis, :historical_science_add_etcetera, :historical_science_total, :character_name, :sheet_tag, :job, :character_age, :character_sexuality, :character_height, :character_weight, :character_hometown, :character_hair_color, :character_eye_color, :character_skin_color, :original_personal_data_id, :character_career_etcetera, original_combat_skills_attributes: [:id, :original_combat_skill_defalut, :original_combat_add_career, :original_combat_add_hobby, :original_combat_add_auxesis, :original_combat_add_etcetera, :original_combat_total, :_destroy, :original_combat_skill_name ])
	end
end
